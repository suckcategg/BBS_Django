{% extends "base.html" %}{% load staticfiles %}{% block title %}    文章详情{% endblock title %}{% block content %}<div class="container">{% if messages %}    <script>        {% for msg in messages %}            alert('{{ msg.message }}');        {% endfor %}    </script>{% endif %}    <div class="row">    <div class="col-9">        <h1 class="mt-4 mb-4">{{ article.title }}</h1>        <div class="col-12 alert alert-success">        <div>            作者：{{ article.author }}            {% if user == article.author %}                 <a href="#" onclick="confirm_delete()" class="btn btn-danger">删除文章</a>                 <a href="{% url 'article:article_update' article.id %}" class="btn btn-primary">编辑文章</a>            {% endif %}        </div>        <div>            浏览：{{ article.total_views }}        </div>        </div>        <div class="col-12">            <p>{{ article.body|safe }}</p>        </div>        <!-- 发表评论 -->        <hr>        {% if user.is_authenticated %}            <div>                <form method="POST" action="{% url 'comment:post_comment' article.id %}">                    {% csrf_token %}                    <div class="from-group">                        <label for="body">                            <strong>                                BB:                            </strong>                        </label>                        <textarea type="text"                        class="form-control"                        id="body"                        name="body"                        rows="2">                        </textarea>                    </div>                    <!--提交-->                    <div style="margin-top: 5px"><button type="submit" class="btn btn-primary">发送</button></div>                                    </form>            </div>        {% else %}            <br>            <h5 class="row justify-content-center">                请<a href="{% url 'userprofile:login' %}">登录</a>后回复            </h5>        {% endif %}        <!--显示评论-->        <h4>共有{{ comments.count }}条评论</h4>        <div>            {% for comment in comments %}                <hr>                <p>                    <strong style="color: pink">                        {{ comment.user }}                    </strong>                    <span style="color: greenyellow;">                        {{ comment.created|date:"Y-m-d H:i:s" }}                    </span>时说：                </p>                <pre style="font-family: inherit; font-size: 1em">                {{ comment.body }}                </pre>            {% endfor %}        </div>    </div>        <div class="col-3 mt-4">                <h4><strong>目录</strong></h4>                <hr>                <div>                    {{ toc|safe }}                </div>        </div>    </div></div><script>{#"onclick="confirm_delete()"#}    function confirm_delete() {        layer.open(            {                title:'确认删除',                content: '确认删除这篇文章么？',                yes:function (index, layero) {                    location.href='{% url "article:article_delete" article.id %}'                }            }        )    }</script>{% endblock content %}